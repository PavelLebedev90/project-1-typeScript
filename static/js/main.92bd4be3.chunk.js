(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{10:function(e,t,s){e.exports={nav_link:"Navigation_nav_link__1JQ1c",nav:"Navigation_nav__16eL0"}},11:function(e,t,s){e.exports={wrapper:"Users_wrapper__UJgO7",ava:"Users_ava__1cU0p",description:"Users_description__2Q3Wm",currentPage:"Users_currentPage__V-LdM",preloader:"Users_preloader__1atKF",circle:"Users_circle__3XJDa",ItemsPreload:"Users_ItemsPreload__2SIH7"}},12:function(e,t,s){e.exports={header:"Header_header__k7DWt",title_blue:"Header_title_blue__1Bn_L",title:"Header_title__1lnKZ",searchButton:"Header_searchButton__149PC",input:"Header_input__1i2Ms",search:"Header_search__aUpf8"}},21:function(e,t,s){e.exports={item:"Post_item__UbIuW"}},24:function(e,t,s){e.exports={messages:"Messages_messages__3bKAO",item:"Messages_item__3LI5Y",dialog:"Messages_dialog__3JKPD"}},40:function(e,t,s){},41:function(e,t,s){e.exports={img:"ProfileInfo_img__10XM1"}},42:function(e,t,s){e.exports={posts:"MyPosts_posts__3VIxe"}},48:function(e,t,s){},49:function(e,t,s){},5:function(e,t,s){e.exports={sign:"SignUp_sign__gARew",title:"SignUp_title__raVrl",subtitle:"SignUp_subtitle__3oZyv",registration:"SignUp_registration__3I7-a",authDescription:"SignUp_authDescription__2gjEJ",login:"SignUp_login__3M53_"}},75:function(e,t,s){"use strict";s.r(t);var n=s(1),a=s.n(n),r=s(18),c=s.n(r),i=(s(48),s(49),s(2)),o=s(6),l=s(5),u=s.n(l),j=s(0);var d=function(){var e=Object(n.useState)(""),t=Object(o.a)(e,2),s=t[0],a=t[1],r=Object(n.useState)(""),c=Object(o.a)(r,2),i=c[0],l=c[1],d=Object(n.useState)(""),b=Object(o.a)(d,2),g=b[0],p=b[1],h=Object(n.useState)({}),O=Object(o.a)(h,2),f=O[0],x=O[1];return Object(j.jsxs)("div",{className:u.a.sign,children:["I am page Music",Object(j.jsx)("input",{type:"text",value:s,onChange:function(e){return a(e.currentTarget.value)}}),Object(j.jsx)("input",{type:"text",value:i,onChange:function(e){return l(e.currentTarget.value)}}),Object(j.jsx)("input",{type:"text",value:g,onChange:function(e){return p(e.currentTarget.value)}}),Object(j.jsx)("button",{onClick:function(){return function(){x({name:arguments.length<=0?void 0:arguments[0],age:arguments.length<=1?void 0:arguments[1],weight:arguments.length<=2?void 0:arguments[2]})}(s,i,g)}}),Object(j.jsx)("span",{children:Object.entries(f)})]})};var b=function(){return Object(j.jsx)("div",{className:u.a.sign,children:"I am page Settings"})},g=s(12),p=s.n(g),h=s(10),O=s.n(h),f=s(4);function x(){return Object(j.jsxs)("nav",{className:O.a.nav,children:[Object(j.jsxs)("span",{children:[Object(j.jsx)(f.b,{to:"/profile",className:function(e){return e.isActive?"".concat(O.a.nav_link):""},children:"Profile"})," "]}),Object(j.jsx)("span",{children:Object(j.jsx)(f.b,{to:"/messages",className:function(e){return e.isActive?"".concat(O.a.nav_link):""},children:"Messages"})}),Object(j.jsx)("span",{children:Object(j.jsx)(f.b,{to:"/users",className:function(e){return e.isActive?"".concat(O.a.nav_link):""},children:"Users"})}),Object(j.jsx)("span",{children:Object(j.jsx)(f.b,{to:"/music",className:function(e){return e.isActive?"".concat(O.a.nav_link):""},children:"Music"})}),Object(j.jsx)("span",{children:Object(j.jsx)(f.b,{to:"/settings",className:function(e){return e.isActive?"".concat(O.a.nav_link):""},children:"Settings"})}),Object(j.jsx)("span",{children:Object(j.jsx)(f.b,{to:"/sign_up",className:function(e){return e.isActive?"".concat(O.a.nav_link):""},children:"Sign up"})})]})}function m(){return Object(j.jsxs)("header",{className:p.a.header,children:[Object(j.jsxs)("div",{className:p.a.title,children:[Object(j.jsx)("span",{className:p.a.title_blue,children:"TVER"}),"network"]}),Object(j.jsx)("div",{children:Object(j.jsx)(x,{})}),Object(j.jsxs)("div",{className:p.a.searchButton,children:[Object(j.jsx)("input",{className:p.a.input,type:"text",placeholder:"Search"}),Object(j.jsx)("span",{className:p.a.search,children:"+"})]})]})}var v=s(19),_=s(20),P=s(23),w=s(22),I=s(9),N=s(14),T=s(3),U="FOLLOWED",S="UNFOLLOWED",C="SET_USERS",y="SET_CURRENT_PAGE",F="SET_TOTAL_USERS_COUNT",D="SET_IS_FETCHING",k="SET_FOLLOW_IN_PROGRESS",A={users:[],pageSize:5,totalUsersCount:0,currentPage:1,isFetching:!1,folowInProgress:[]},E=s(28),M=s(38),L=s.n(M),R=s(11),H=s.n(R),z=s(21),W=s.n(z),G=s(39),J=s.n(G).a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"b9ab541c-e0c5-4e3f-a6cb-7e9f4deadb80"}}),K=function(e,t){return J.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))};function B(e){var t=e.currentItems,s=Object(E.a)(e,["currentItems"]),n=s.isFetching?H.a.ItemsPreload:"";console.log("Items is mound");var a=function(e,t){t?(s.setFollowProgress(!0,e),function(e){return J.delete("follow/".concat(e)).then((function(e){return e.data}))}(e).then((function(t){0===t.resultCode&&s.follow(e),s.setFollowProgress(!1,e)}))):(s.setFollowProgress(!0,e),function(e){return J.post("follow/".concat(e),{}).then((function(e){return e.data}))}(e).then((function(t){0===t.resultCode&&s.unFollow(e),s.setFollowProgress(!1,e)})))};return Object(j.jsx)(j.Fragment,{children:t&&t.map((function(e){return Object(j.jsxs)("div",{className:"".concat(H.a.wrapper," ").concat(n),children:[Object(j.jsxs)("div",{className:H.a.ava,children:[Object(j.jsx)("div",{className:W.a.item,children:Object(j.jsx)(f.b,{to:"/profile/"+e.id,children:Object(j.jsx)("img",{src:e.photos.large?e.photos.large:e.photos.small?e.photos.small:Y,alt:"avatar"})})}),Object(j.jsx)("div",{children:Object(j.jsx)("button",{disabled:s.folowInProgress.some((function(t){return t===e.id})),onClick:function(){return a(e.id,e.followed)},children:e.followed?"unFollow":"follow"})})]}),Object(j.jsxs)("div",{className:H.a.description,children:[Object(j.jsxs)("div",{children:[Object(j.jsx)("div",{children:e.name}),Object(j.jsx)("div",{children:e.status})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)("div",{children:e.uniqueUrlName}),Object(j.jsx)("div",{children:"m.location.city"})]})]})]},e.id)}))})}function V(e){for(var t=e.itemsPerPage,s=Object(E.a)(e,["itemsPerPage"]),a=Math.ceil(s.totalUsersCount/s.pageSize),r=[],c=1;c<=a;c++)r.push(c);var i=Object(n.useState)(null),l=Object(o.a)(i,2),u=(l[0],l[1]),d=Object(n.useState)(0),b=Object(o.a)(d,2),g=b[0],p=b[1];Object(n.useEffect)((function(){var e=g+t;u(r.slice(g,e))}),[g,t]);return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(B,{currentItems:s.users,unFollow:s.unFollow,follow:s.follow,isFetching:s.isFetching,folowInProgress:s.folowInProgress,setFollowProgress:s.setFollowProgress}),Object(j.jsx)(L.a,{className:"paginate",breakLabel:"...",nextLabel:" >",onPageChange:function(e){var n=e.selected*t%r.length;s.currentPageChanged(n),p(n)},pageRangeDisplayed:5,pageCount:a,previousLabel:"< ",renderOnZeroPageCount:function(){return null}})]})}var X=function(){return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("span",{className:H.a.preloader})})},Y="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRaznFcbeSJTVKFzMptmjTuD6XEAkUuN7SxkA&usqp=CAU",q=function(e){Object(P.a)(s,e);var t=Object(w.a)(s);function s(){var e;Object(v.a)(this,s);for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).currentPageChanged=function(t){e.props.setCurrentPage(t),e.props.setIsFetching(!0),K(t,e.props.pageSize).then((function(t){e.props.setUsers(t.items),e.props.setIsFetching(!1)}))},e}return Object(_.a)(s,[{key:"componentDidMount",value:function(){var e=this;console.log("UsersClass is mound"),this.props.setIsFetching(!0),K(this.props.currentPage,this.props.pageSize).then((function(t){e.props.setUsers(t.items),e.props.setTotalUsersCount(t.totalCount),e.props.setIsFetching(!1)}))}},{key:"render",value:function(){return Object(j.jsx)("div",{className:u.a.sign,children:Object(j.jsxs)("div",{children:[this.props.isFetching?Object(j.jsx)(X,{}):null,Object(j.jsx)(V,{itemsPerPage:this.props.pageSize,isFetching:this.props.isFetching,users:this.props.users,follow:this.props.follow,unFollow:this.props.unFollow,currentPageChanged:this.currentPageChanged,totalUsersCount:this.props.totalUsersCount,pageSize:this.props.pageSize,folowInProgress:this.props.folowInProgress,setFollowProgress:this.props.setFollowProgress})]})})}}]),s}(a.a.Component),Z=Object(I.b)((function(e){return{users:e.usersPage.users,pageSize:e.usersPage.pageSize,totalUsersCount:e.usersPage.totalUsersCount,currentPage:e.usersPage.currentPage,isFetching:e.usersPage.isFetching,folowInProgress:e.usersPage.folowInProgress}}),{follow:function(e){return{type:U,userID:e}},unFollow:function(e){return{type:S,userID:e}},setUsers:function(e){return{type:C,users:e}},setCurrentPage:function(e){return{type:y,currentPage:e}},setTotalUsersCount:function(e){return{type:F,totalUsersCount:e}},setIsFetching:function(e){return{type:D,isFetching:e}},setFollowProgress:function(e,t){return{type:k,isFetching:e,userId:t}}})(q),Q=s(40),$=s.n(Q),ee=s(41),te=s.n(ee),se=function(e){return Object(j.jsxs)("div",{children:["  ",e.profile.map((function(e){return Object(j.jsxs)("div",{children:[Object(j.jsx)("div",{children:Object(j.jsx)("img",{className:te.a.img,src:e.photos.large?e.photos.large:"https://images.pexels.com/photos/248797/pexels-photo-248797.jpeg?auto=compress&cs=tinysrgb&h=350"})}),Object(j.jsxs)("div",{children:["fullName:",e.fullName]}),Object(j.jsxs)("div",{children:["aboutMe:",e.aboutMe]}),Object(j.jsx)("div",{children:e.contacts.vk})]},e.userId)}))]})},ne=s(76),ae="ADD_POST",re="UPDATE_NEW_POST_TEXT",ce="SET_USER_PROFILE",ie={profile:[],posts:[{id:Object(ne.a)(),message:"Hi, how are you?",likesCount:3},{id:Object(ne.a)(),message:"It's my first post",likesCount:5},{id:Object(ne.a)(),message:"What are you doing maaaaaan?",likesCount:16}],newPostText:"learn React"},oe=s(42),le=s.n(oe),ue=function(e){return Object(j.jsx)("div",{className:W.a.item,children:e.post.map((function(e){return Object(j.jsxs)("div",{children:[Object(j.jsx)("img",{alt:"photo",src:"https://steamcdn-a.akamaihd.net/steamcommunity/public/images/avatars/62/62d546ccdfc4a838b2e0d622b1b292bfa2af90ec_full.jpg"}),e.message,Object(j.jsx)("div",{children:Object(j.jsxs)("span",{children:["like ",e.likesCount]})})]},e.id)}))})},je=function(e){return Object(j.jsxs)("div",{children:["My posts",Object(j.jsxs)("div",{className:le.a.posts,children:[Object(j.jsx)("textarea",{onChange:function(t){e.updateNewPostText(t.currentTarget.value)},value:e.value}),Object(j.jsx)("button",{onClick:function(){e.addPost()},children:"Add post"})]}),Object(j.jsx)("div",{children:Object(j.jsx)(ue,{post:e.statePost})})]})},de=Object(I.b)((function(e){return{statePost:e.profilePage.posts,value:e.profilePage.newPostText}}),{addPost:function(){return{type:ae}},updateNewPostText:function(e){return{type:re,newText:e}}})(je),be=function(e){return Object(j.jsxs)("div",{className:"".concat(u.a.sign," ").concat($.a.profile),children:[Object(j.jsx)(se,{profile:e.profile}),Object(j.jsx)(de,{})]})},ge=function(){var e=Object(I.c)(),t=Object(I.d)((function(e){return e.profilePage.profile})),s=Object(i.g)().userId,a=s;return Object(n.useEffect)((function(){a||(a="21570"),function(e){return J.get("profile/".concat(e)).then((function(e){return e.data}))}(a).then((function(t){e({type:ce,userProfile:t})}))}),[s]),Object(j.jsx)("div",{children:Object(j.jsx)(be,{profile:t})})};function pe(e){return Object(j.jsxs)("div",{className:u.a.sign,children:[Object(j.jsx)("h1",{className:u.a.title,children:"Your Best Social Networks"}),Object(j.jsx)("p",{className:u.a.subtitle,children:"Make your creative works online and deliver to the world "}),e.isAuth?Object(j.jsxs)("div",{className:u.a.authDescription,children:["Your registration name is ",Object(j.jsx)("span",{className:u.a.login,children:e.login})]}):Object(j.jsx)(f.b,{to:"/login",children:Object(j.jsx)("div",{className:u.a.registration,children:"LOGIN"})})]})}var he={userId:null,email:null,login:null,isAuth:!1},Oe=function(e){Object(P.a)(s,e);var t=Object(w.a)(s);function s(){return Object(v.a)(this,s),t.apply(this,arguments)}return Object(_.a)(s,[{key:"componentDidMount",value:function(){var e=this;J.get("auth/me").then((function(e){return e.data})).then((function(t){if(0===t.resultCode){var s=t.data,n=s.id,a=s.email,r=s.login;e.props.setUserData(n,a,r)}}))}},{key:"render",value:function(){return Object(j.jsx)(pe,{login:this.props.login,isAuth:this.props.isAuth})}}]),s}(a.a.Component),fe=Object(I.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login,userId:e.auth.userId,email:e.auth.email}}),{setUserData:function(e,t,s){return{type:"SET_AUTH_USER_DATA",data:{userId:e,email:t,login:s}}}})(Oe),xe="ADD_DIALOG_AC",me="UPDATE_NEW_DIALOG_TEXT",ve={dialogs:[{id:Object(ne.a)(),title:"How do you do?"},{id:Object(ne.a)(),title:"What was you learned in It"},{id:Object(ne.a)(),title:"Yo"},{id:Object(ne.a)(),title:"What a Fuck"},{id:Object(ne.a)(),title:"Go walk today"}],messages:[{id:Object(ne.a)(),name:"Pavel"},{id:Object(ne.a)(),name:"Ivan"},{id:Object(ne.a)(),name:"Roman"},{id:Object(ne.a)(),name:"Kostya"},{id:Object(ne.a)(),name:"Misha"}],newDialogText:"Hello!!!"};function _e(e){return Object(j.jsx)("div",{children:e.stateMessage.map((function(e){return Object(j.jsxs)("div",{children:[" ",Object(j.jsx)(f.b,{to:"./".concat(e.id),children:e.name})," "]},e.id)}))})}var Pe=s(24),we=s.n(Pe);var Ie=Object(I.b)((function(e){return{stateDialogs:e.dialogsPage.dialogs,stateMessage:e.dialogsPage.messages,value:e.dialogsPage.newDialogText}}),{addDialog:function(){return{type:xe}},updateNewDialogText:function(e){return{type:me,newText:e}}})((function(e){return Object(j.jsx)("div",{className:u.a.sign,children:Object(j.jsxs)("div",{className:we.a.messages,children:[Object(j.jsx)("div",{className:we.a.item,children:Object(j.jsx)(_e,{stateMessage:e.stateMessage})}),Object(j.jsxs)("div",{className:we.a.dialog,children:[e.stateDialogs.map((function(e){return Object(j.jsx)("div",{children:e.title},e.id)})),Object(j.jsx)("textarea",{value:e.value,onChange:function(t){e.updateNewDialogText(t.currentTarget.value)}}),Object(j.jsx)("button",{onClick:function(){e.addDialog()},children:"add"})]})]})})})),Ne=function(){return Object(j.jsxs)("div",{className:"wrapper_bg",children:[Object(j.jsx)(m,{}),Object(j.jsxs)(i.c,{children:[Object(j.jsx)(i.a,{path:"/profile",element:Object(j.jsx)(ge,{})}),Object(j.jsx)(i.a,{path:"/profile/:userId",element:Object(j.jsx)(ge,{})}),Object(j.jsx)(i.a,{path:"/messages/*",element:Object(j.jsx)(Ie,{})}),Object(j.jsx)(i.a,{path:"/users/*",element:Object(j.jsx)(Z,{})}),Object(j.jsx)(i.a,{path:"/music/*",element:Object(j.jsx)(d,{})}),Object(j.jsx)(i.a,{path:"/settings/*",element:Object(j.jsx)(b,{})}),Object(j.jsx)(i.a,{path:"/sign_up/*",element:Object(j.jsx)(fe,{})})]})]})},Te=s(27),Ue=Object(Te.a)({profilePage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ae:var s={id:Object(ne.a)(),message:e.newPostText,likesCount:0};return Object(T.a)(Object(T.a)({},e),{},{posts:[].concat(Object(N.a)(e.posts),[s]),newPostText:""});case re:return Object(T.a)(Object(T.a)({},e),{},{newPostText:t.newText});case ce:return Object(T.a)(Object(T.a)({},e),{},{profile:[t.userProfile]});default:return e}},dialogsPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ve,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case me:return Object(T.a)(Object(T.a)({},e),{},{newDialogText:t.newText});case xe:var s={id:Object(ne.a)(),title:e.newDialogText};return Object(T.a)(Object(T.a)({},e),{},{dialogs:[].concat(Object(N.a)(e.dialogs),[s]),newDialogText:""});default:return e}},usersPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case U:case S:return Object(T.a)(Object(T.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userID?Object(T.a)(Object(T.a)({},e),{},{followed:!e.followed}):e}))});case C:return Object(T.a)(Object(T.a)({},e),{},{users:t.users});case y:return Object(T.a)(Object(T.a)({},e),{},{currentPage:t.currentPage});case F:return Object(T.a)(Object(T.a)({},e),{},{totalUsersCount:t.totalUsersCount});case D:return Object(T.a)(Object(T.a)({},e),{},{isFetching:t.isFetching});case k:return t.isFetching?Object(T.a)(Object(T.a)({},e),{},{folowInProgress:[].concat(Object(N.a)(e.folowInProgress),[t.userId])}):Object(T.a)(Object(T.a)({},e),{},{folowInProgress:e.folowInProgress.filter((function(e){return e!==t.userId}))});default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:he,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_AUTH_USER_DATA":return Object(T.a)(Object(T.a)(Object(T.a)({},e),t.data),{},{isAuth:!0});default:return e}}}),Se=Object(Te.b)(Ue);window.store=Se;var Ce=Se;c.a.render(Object(j.jsx)(f.a,{children:Object(j.jsx)(I.a,{store:Ce,children:Object(j.jsx)(Ne,{})})}),document.getElementById("root"))}},[[75,1,2]]]);
//# sourceMappingURL=main.92bd4be3.chunk.js.map